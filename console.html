<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>friscic.com</title>
    <style>
        body {
            font-family: monospace;
            font-size: 2em;
            background-color: black;
            color: #41FF00;
            text-transform: uppercase;
            margin: 0 0.5em;
            /* min-width: 80rem; */
        }

        a {
            color: #41FF00;
            font-weight: bold;
            text-decoration: none;
        }

        #cursor {
            width: 1em;
            height: 3em;
            animation: blinker 1s linear infinite;
            background-color: #41FF00;
            color: #41FF00;
        }

        .terminal {
            display: flex;
            flex-direction: column;
            transform: scale(2);
        }

        .line {
            line-height: 1.5em;
            display: flex;
            outline: none;
            width: fit-content;
            /* overflow: scroll; */
        }

        .key {
            font-weight: bold;
            background-color: #41FF00;
            color: black;
            padding: 0 0.4em 0 0.2em;
        }

        @keyframes blinker {
            50% {
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <div id="terminal">
        <div id="intro">
            <div class="line">https://friscic.com/</div>
            <div class="line">select&nbsp;<span class="key">&#9166;</span></div>
            <div class="line"><a href="#"><span class="key">1</span></a>&nbsp;about</div>
            <div class="line"><a href="#"><span class="key">2</span></a>&nbsp;contact</div>
            <div class="line"><a href="#"><span class="key">3</span></a>&nbsp;imprint</div>
            <div class="line">&nbsp;</div>
        </div>
        <div id="lines"></div>
        <div class="line">~$&nbsp;<span id="input"></span><input id="cursor"></div>
    </div>
    <script>
        const lines = document.getElementById("lines");
        const input = document.getElementById("input");
        const cursor = document.getElementById("cursor");

        document.addEventListener('keyup', keyPressed);

        function keyPressed(e) {

            if (e.keyCode > 96 && e.keyCode <= 123) {
                return
            }

            /*
            0 - 47 ignore
            48 - 90 output
            < 124 error
            */

            switch (e.keyCode) {
                /* 1 */
                case 49:
                    newLine('about', true);
                    newLink('https://www.xing.com/profile/Manfred_Friscic', 'xing');
                    newLink('https://www.linkedin.com/in/friscic/', 'linkedin');
                    newLine('&nbsp;');
                    break;
                /* 2 */
                case 50:
                    newLine('contact', true);
                    newLink('mailto:manfred@friscic.com', 'email');
                    newLine('&nbsp;');
                    break;
                /* 3 */
                case 51:
                    newLine('impressum', true);
                    newLine('mag. manfred friscic');
                    newLine('neustiftgasse 54');
                    newLine('1070 wien');
                    newLine('manfred@friscic.com');
                    newLine('&nbsp;');
                    break;
                /* space */
                case 32: {
                    input.innerHTML += '&nbsp;';
                    break;
                }
                /* backspace */
                case 8: {
                    let clean = input.innerHTML.replaceAll('&nbsp;', ' ');
                    input.innerHTML = clean.substr(0, clean.length - 1).replaceAll(' ', '&nbsp;');
                    break;
                }
                /* enter */
                case 13: {
                    // checkInput();

                    newLine(input.innerHTML || '*');

                    input.innerHTML = '';
                    break;
                }
                default:

                    if (e.keyCode < 48 && e.keyCode > 90) {
                        newLine(`'${input.value || e.key}' is not recognized as a command, operable program or batch file`);
                        return;
                    }
                    input.innerHTML += e.key;

                    break;
            }

            cursor.value = '';
        }

        function newLine(text, highlight = false) {
            let line = document.createElement("div");
            line.innerHTML = text;
            line.className = 'line';
            if (highlight) {
                line.className += ' key';
            }
            lines.append(line);
        }

        function newLink(url, text) {
            let link = document.createElement("a");
            link.innerHTML = text;
            link.href = url;

            newLine(link);
        }

        // function checkInput() {
        //     switch (input.innerHTML) {
        //         case '1':
        //             newLine(about['xing']);
        //             newLine(about['linkedin']);
        //             break;
        //         case '2':
        //             newLine(contact['email']);
        //             break;
        //         case '3':
        //             imprint.forEach(l => newLine(l));
        //             break;
        //         case 'clear':
        //         case 'cls':
        //             lines.innerHTML = '';
        //             break;
        //         default:
        //             break;
        //     }
        // }

    </script>
</body>

</html>